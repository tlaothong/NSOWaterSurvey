<ion-header>

  <ion-navbar>
    <ion-title>ข้อมูลครัวเรือน</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <form (ngSubmit)="handleSubmit()" [formGroup]="f">

    <!-- 3.1 -->
    <div>
      <ion-item>
        <ion-label>3.1 ลำดับครัวเรือนสถานประกอบการในบ้าน/อาคาร/สิ่งปลูกสร้าง (ยูนิตย่อย)</ion-label>
      </ion-item>
      <ion-item>
        <ion-label>หมายเลขห้อง</ion-label>
      </ion-item>
      <ion-item>
        <ion-input type="text" formControlName="roomNumber" [class.invalid]="isValid('roomNumber')"></ion-input>
      </ion-item>
      <ion-item *ngIf="isValid('roomNumber')">
        <span class="invalid-msg">
          กรุณากรอกหมายเลขห้อง
        </span>
      </ion-item>
    </div>

    <!-- ActionSheet -->
    <ion-item>
      <ion-label stacked>
        ผลการเข้าพบ 1/3
      </ion-label>
      <ion-select interface="action-sheet" formControlName="access" [class.invalid]="isValid('access')">
        <ion-option value="a1">
          1. มีผู้ให้ข้อมูล และให้ความร่วมมือ
        </ion-option>
        <ion-option value="a2">
          2. มีผู้ให้ข้อมูล แต่ไม่ให้ความร่วมมือ
        </ion-option>
        <ion-option value="a3">
          3. ไม่มี/ไม่พบผู้ให้ข้อมูล
        </ion-option>
        <ion-option value="a4">
          4. ห้อง/บ้าน/อาคาร ว่าง
        </ion-option>
        <ion-option value="a5">
          5. ห้อง/บ้าน/อาคาร ร้าง
        </ion-option>
      </ion-select>
      <ion-item *ngIf="isValid('access')">
        <span class="invalid-msg">
          กรุณากรอกหมายเลขห้อง
        </span>
      </ion-item>
    </ion-item>

    <!-- <div [ngSwitch]="f.get('access').value"> -->
    <div *ngIf="f.get('access').value == 'a1'">
      <ion-item>
        <ion-label>3.2 การแยกมิเตอร์น้ำประปา/น้ำบาดาล</ion-label>
      </ion-item>
      <ion-item>
        <ion-label>
          1. ใช้น้ำประปาหรือไม่
        </ion-label>
      </ion-item>
      <ion-row radio-group formControlName="hasPlumbing" [class.invalid]="isValid('hasPlumbing')">
        <ion-item *ngIf="isValid('hasPlumbing')">
          <span class="invalid-msg">
            กรุณาเลือก
          </span>
        </ion-item>
        <ion-item col-6>
          <ion-radio [value]="true" item-left></ion-radio>
          <ion-label>ใช้</ion-label>
        </ion-item>
        <ion-item col-6>
          <ion-radio [value]="false" item-left></ion-radio>
          <ion-label>ไม่ใช้</ion-label>
        </ion-item>
      </ion-row>

      <div *ngIf="f.get('hasPlumbing').value">
        <ion-item>
          <ion-label>
            2. มีมิเตอร์น้ำประปาแยกออกจากส่วนกลางหรือไม่
          </ion-label>
        </ion-item>
        <ion-row radio-group formControlName="hasPlumbingMeter" [class.invalid]="isValid('hasPlumbingMeter')">
          <ion-item *ngIf="isValid('hasPlumbingMeter')">
            <span class="invalid-msg">
              กรุณาเลือก
            </span>
          </ion-item>
          <ion-item col-6>
            <ion-radio [value]="true" item-left></ion-radio>
            <ion-label>มี</ion-label>
          </ion-item>
          <ion-item col-6>
            <ion-radio [value]="false" item-left></ion-radio>
            <ion-label>ไม่มี</ion-label>
          </ion-item>
        </ion-row>
      </div>

      <div *ngIf="f.get('hasPlumbingMeter').value">
        <ion-item>
          <ion-label>
            2.1 เป็นมิเตอร์ของการประปาส่วนภูมิภาค/นครหลวงใช่หรือไม่
          </ion-label>
        </ion-item>
        <ion-row radio-group formControlName="isPlumbingMeterXWA" [class.invalid]="isValid('isPlumbingMeterXWA')">
          <ion-item *ngIf="isValid('isPlumbingMeterXWA')">
            <span class="invalid-msg">
              กรุณาเลือก
            </span>
          </ion-item>
          <ion-item col-6>
            <ion-radio item-left></ion-radio>
            <ion-label>ใช่</ion-label>
          </ion-item>
          <ion-item col-6>
            <ion-radio item-left></ion-radio>
            <ion-label>ไม่ใช่</ion-label>
          </ion-item>
        </ion-row>
      </div>

      <ion-item>
        <ion-label>
          3. ใช้น้ำบาดาลหรือไม่
        </ion-label>
      </ion-item>
      <ion-row radio-group formControlName="hasGroundWater" [class.invalid]="isValid('hasGroundWater')">
        <ion-item *ngIf="isValid('hasGroundWater')">
          <span class="invalid-msg">
            กรุณาเลือก
          </span>
        </ion-item>
        <ion-item col-6>
          <ion-radio [value]="true" item-left></ion-radio>
          <ion-label>ใช้</ion-label>
        </ion-item>
        <ion-item col-6>
          <ion-radio [value]="false" item-left></ion-radio>
          <ion-label>ไม่ใช้</ion-label>
        </ion-item>
      </ion-row>

      <div *ngIf="f.get('hasGroundWater').value">
        <ion-item>
          <ion-label>
            4. มีมิเตอร์น้ำบาดาลแยกออกจากส่วนกลางหรือไม่
          </ion-label>
        </ion-item>
        <ion-row radio-group formControlName="hasGroundWaterMeter" [class.invalid]="isValid('hasGroundWaterMeter')">
          <ion-item *ngIf="isValid('hasGroundWaterMeter')">
            <span class="invalid-msg">
              กรุณาเลือก
            </span>
          </ion-item>
          <ion-item col-6>
            <ion-radio item-left></ion-radio>
            <ion-label>มี</ion-label>
          </ion-item>
          <ion-item col-6>
            <ion-radio item-left></ion-radio>
            <ion-label>ไม่มี</ion-label>
          </ion-item>
        </ion-row>
      </div>

      <!-- 3.3 -->
      <ion-item>
        <ion-label>3.3 กิจกรรมการใช้น้ำ</ion-label>
      </ion-item>
      <ion-item>
        <ion-label>
          1. เพื่อการอุปโภคบริโภค: สถานนี้มีผู้อยู่อาศัยติดต่อกันนานเกิน 3 เดือนใช่หรือไม่
        </ion-label>
      </ion-item>
      <ion-row radio-group formControlName="isHouseHold" [class.invalid]="isValid('isHouseHold')">
        <ion-item *ngIf="isValid('isHouseHold')">
          <span class="invalid-msg">
            กรุณาเลือก
          </span>
        </ion-item>
        <ion-item col-6>
          <ion-radio item-left></ion-radio>
          <ion-label>ใช่</ion-label>
        </ion-item>
        <ion-item col-6>
          <ion-radio item-left></ion-radio>
          <ion-label>ไม่ใช่</ion-label>
        </ion-item>
      </ion-row>
      <ion-item>
        <ion-label>
          2. เพื่อการเกษตร: ผู้อยู่อาศัยอยู่ในสถานที่นี้มีพื้นที่ปลูกพืช เลี้ยงสัตว์ หรือทำการเกษตรเอง ใช่หรือไม่
        </ion-label>
      </ion-item>
      <ion-row radio-group formControlName="isAgriculture" [class.invalid]="isValid('isAgriculture')">
        <ion-item *ngIf="isValid('isAgriculture')">
          <span class="invalid-msg">
            กรุณาเลือก
          </span>
        </ion-item>
        <ion-item col-6>
          <ion-radio item-left></ion-radio>
          <ion-label>ใช่</ion-label>
        </ion-item>
        <ion-item col-6>
          <ion-radio item-left></ion-radio>
          <ion-label>ไม่ใช่</ion-label>
        </ion-item>
      </ion-row>
      <ion-item>
        <ion-label>
          3. เพื่อการผลิต: สถานที่นี้ใช้เพื่อทำการผลิต ใช่หรือไม่
        </ion-label>
      </ion-item>
      <ion-row radio-group formControlName="isFactorial" [class.invalid]="isValid('isFactorial')">
        <ion-item *ngIf="isValid('isFactorial')">
          <span class="invalid-msg">
            กรุณาเลือก
          </span>
        </ion-item>
        <ion-item col-6>
          <ion-radio item-left></ion-radio>
          <ion-label>ใช่</ion-label>
        </ion-item>
        <ion-item col-6>
          <ion-radio item-left></ion-radio>
          <ion-label>ไม่ใช่</ion-label>
        </ion-item>
      </ion-row>
      <ion-item>
        <ion-label>
          4. เพื่อการบริการ: สถานที่นี้ใช้เพื่อทำการบริการ ใช่หรือไม่
        </ion-label>
      </ion-item>
      <ion-row radio-group formControlName="isCommercial" [class.invalid]="isValid('isCommercial')">
        <ion-item *ngIf="isValid('isCommercial')">
          <span class="invalid-msg">
            กรุณาเลือก
          </span>
        </ion-item>
        <ion-item col-6>
          <ion-radio item-left></ion-radio>
          <ion-label>ใช่</ion-label>
        </ion-item>
        <ion-item col-6>
          <ion-radio item-left></ion-radio>
          <ion-label>ไม่ใช่</ion-label>
        </ion-item>
      </ion-row>
      <!-- </div>
    </div> -->
    </div>
    <div *ngIf="f.get('access').value == 'a1' || f.get('access').value == 'a2' || f.get('access').value == 'a3'">
      <ion-item>
        <ion-label>ปัญหา/อุปสรรค</ion-label>
      </ion-item>
      <ion-item>
        <ion-input type="text"></ion-input>
      </ion-item>
    </div>
    <!-- </div> -->

    <!-- button -->
    <ion-grid>
      <ion-row>
        <ion-col>
          <button ion-button block color="light" (click)="closeDialog()">Cancel</button>
        </ion-col>
        <ion-col>
          <button ion-button block (click)="ConfirmDialog()">OK</button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>