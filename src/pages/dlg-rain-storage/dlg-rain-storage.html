<ion-header>

  <ion-navbar>
    <ion-title>ภาชนะที่จัดเก็บน้ำฝน</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="deleteData()">
        <ion-icon name="trash" color="danger"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>

<ion-content padding>
  <form [formGroup]="FormItem">

    <ion-row>
      <ion-col>
        <ion-item>
          <ion-label>ชนิด</ion-label>
        </ion-item>

        <ion-item *ngIf="isValid('category')">
          <span class="invalid-msg">
            กรุณาเลือก
          </span>
        </ion-item>
        <ion-item [class.invalid]="isValid('category')">
          <ion-input *ngIf="text != ''" type="text" formControlName="category" [disabled]=true></ion-input>
          <ion-label *ngIf="text == ''">ชนิด</ion-label>
          <ion-select *ngIf="text == ''" formControlName="category" interface="action-sheet">
            <ion-option value="แท้งค์น้ำ สแตนเลส">1. แท้งค์น้ำ สแตนเลส</ion-option>
            <ion-option value="แท้งค์น้ำ โพลิเมอร์/พลาสติก">2. แท้งค์น้ำ โพลิเมอร์/พลาสติก</ion-option>
            <ion-option value="แท้งค์น้ำ ไฟเบอร์กลาส">3. แท้งค์น้ำ ไฟเบอร์กลาส'</ion-option>
            <ion-option value="แท้งค์น้ำ ปูน/ซีเมนต์">4. แท้งค์น้ำ ปูน/ซีเมนต์</ion-option>
            <ion-option value="โอ่ง ปูน/ดินเผา">5. โอ่ง ปูน/ดินเผา</ion-option>
            <ion-option value="ถัง โพลิเมอร์/พลาสติก">6. ถัง โพลิเมอร์/พลาสติก</ion-option>
          </ion-select>

        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row style="align-items: center">
      <ion-item>
        <ion-label>ขนาดเท่าใด (ลิตร)</ion-label>
      </ion-item>
      <ion-item *ngIf="isValid('size')">
        <span class="invalid-msg">
          กรุณาเลือก
        </span>
      </ion-item>
      <ion-item *ngIf="text == 'แท้งค์น้ำ สแตนเลส' || FormItem.get('category').value == 'แท้งค์น้ำ สแตนเลส' "
        [class.invalid]="isValid('size')">
        <ion-label>ขนาดลิตร</ion-label>
        <ion-select formControlName="size" interface="action-sheet">
          <ion-option>100 - 1,000</ion-option>
          <ion-option>1,001 - 5,000</ion-option>
          <ion-option>5,001 - 10,000</ion-option>
          <ion-option>10,001 - 15,000</ion-option>
        </ion-select>
      </ion-item>
      <ion-item
        *ngIf="text == 'แท้งค์น้ำ โพลิเมอร์/พลาสติก' || FormItem.get('category').value == 'แท้งค์น้ำ โพลิเมอร์/พลาสติก'"
        [class.invalid]="isValid('size')">
        <ion-label>ขนาดลิตร</ion-label>
        <ion-select formControlName="size" interface="action-sheet">
          <ion-option>100 - 1,000</ion-option>
          <ion-option>1,001 - 5,000</ion-option>
          <ion-option>5,001 - 10,000</ion-option>
          <ion-option>10,001 - 15,000</ion-option>
        </ion-select>
      </ion-item>
      <ion-item *ngIf="text == 'แท้งค์น้ำ ไฟเบอร์กลาส' || FormItem.get('category').value == 'แท้งค์น้ำ ไฟเบอร์กลาส'"
        [class.invalid]="isValid('size') ">
        <ion-label>ขนาดลิตร</ion-label>
        <ion-select formControlName="size" interface="action-sheet">
          <ion-option>500 - 1,000</ion-option>
          <ion-option>1,001 - 5,000</ion-option>
          <ion-option>5,001 - 10,000</ion-option>
          <ion-option>10,001 - 15,000</ion-option>
          <ion-option>15,001 - 20,000</ion-option>
        </ion-select>
      </ion-item>
      <ion-item *ngIf="text == 'แท้งค์น้ำ ปูน/ซีเมนต์' || FormItem.get('category').value == 'แท้งค์น้ำ ปูน/ซีเมนต์'"
        [class.invalid]="isValid('size')">
        <ion-label>ขนาดลิตร</ion-label>
        <ion-select formControlName="size" interface="action-sheet">
          <ion-option>5,000 - 10,000</ion-option>
          <ion-option>10,001 - 20,000</ion-option>
          <ion-option>20,001 - 30,000</ion-option>
          <ion-option>30,001 - 40,000</ion-option>
          <ion-option>40,001 - 50,000</ion-option>
        </ion-select>
      </ion-item>
      <ion-item *ngIf="text == 'โอ่ง ปูน/ดินเผา' || FormItem.get('category').value == 'โอ่ง ปูน/ดินเผา'"
        [class.invalid]="isValid('size')">
        <ion-label>ขนาดลิตร</ion-label>
        <ion-select formControlName="size" interface="action-sheet">
          <ion-option>50 - 300</ion-option>
          <ion-option>301 - 1,000</ion-option>
          <ion-option>1,001 - 2,000</ion-option>
        </ion-select>
      </ion-item>
      <ion-item *ngIf="text == 'ถัง โพลิเมอร์/พลาสติก' || FormItem.get('category').value == 'ถัง โพลิเมอร์/พลาสติก'"
        [class.invalid]="isValid('size')">
        <ion-label>ขนาดลิตร</ion-label>
        <ion-select formControlName="size" interface="action-sheet">
          <ion-option>50 - 200</ion-option>
          <ion-option>201 - 300</ion-option>
        </ion-select>
      </ion-item>
    </ion-row>

    <ion-row>
      <ion-item>
        <ion-label>จำนวน</ion-label>
      </ion-item>
      <ion-item>
        <ion-input type="number" formControlName="count" [class.invalid]="isValid('count')"></ion-input>
      </ion-item>
      <ion-item *ngIf="isValid('count')">
        <span class="invalid-msg">
          กรุณากรอกข้อมูล
        </span>
      </ion-item>
      <ion-item *ngIf="FormItem.get('count').value > 100">
        <ion-icon md="md-warning" class="warning"></ion-icon>
        <span class="warning-msg">
          กรุณาตรวจสอบจำนวนมีเยอะผิดปกติหรือไม่
        </span>
      </ion-item>
    </ion-row>

    <ion-grid>
      <ion-row>
        <ion-col>
          <button ion-button block color="light" (click)="closeDialog()">ยกเลิก</button>
        </ion-col>
        <ion-col>
          <button ion-button block (click)="okDialog()" [disabled]="FormItem.invalid">ตกลง</button>
        </ion-col>
      </ion-row>
    </ion-grid>

  </form>
</ion-content>