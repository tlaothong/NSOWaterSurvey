<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>ส่งงาน</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>

  <ion-item>
    <ion-label *ngIf="currentEA$ | async as ea">
      {{ ea.CWT_NAME }}
      {{ ea.AMP_NAME }}
      {{ ea.TAM_NAME }}
      {{ (ea.DISTRICT == 2 ? 'นอกเขตฯ' : 'ในเขตฯ') }}
      {{ ea.MUN_NAME }}{{ ea.TAO_NAME }}
      &nbsp;
      <b>{{ ea.EA }}</b>
    </ion-label>
  </ion-item><br>
  <div class="progress-outer" *ngIf="countUpload > 0 && uploadShow">
    <div class="progress-inner" [style.width]="countUpload + '%'">
      {{ countUpload.toFixed(2) }} / 100 %
    </div>
  </div><br>

  <div class="progress-outer" *ngIf="countItemTotal > 0 && downloadShow">
    <div class="progress-inner" [style.width]="countItemTotal + '%'">
      {{ countItemTotal.toFixed(2) }} / 100 %
    </div>
  </div><br>
  <ion-card>
    <ion-row>
      <ion-col>
        <ion-label col-1>สน1.</ion-label>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-1>
      </ion-col>
      <ion-col>
        <ion-label>ข้อมูลอาคาร ทั้งหมด : {{ item.allbld }}</ion-label>
      </ion-col>
      <ion-col>
        <ion-label>ข้อมูลอาคาร ที่สำรวจเสร็จ : {{ item.bldComplete }}</ion-label>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-1>
      </ion-col>
      <ion-col>
        <ion-label>ข้อมูลอาคาร ว่าง/ร้าง : {{ item.bldVacancyCount }}</ion-label>
      </ion-col>
      <ion-col>
        <ion-label>ข้อมูลอาคาร ร้าง : {{ item.bldAbandonedCount }}</ion-label>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-1>
      </ion-col>
      <ion-col>
        <ion-label>ครัวเรือน ทั้งหมด : {{ item.allunt }}</ion-label>
      </ion-col>
      <ion-col>
        <ion-label>ครัวเรือน ที่สำรวจเสร็จ : {{ item.untComplete }}</ion-label>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-1>
      </ion-col>
      <ion-col>
        <ion-label>ครัวเรือน ว่าง : {{ item.bldVacancyCount }}</ion-label>
      </ion-col>
      <ion-col>
        <ion-label>ครัวเรือน ร้าง : {{ item.untAbandonedCount }}</ion-label>
      </ion-col>
    </ion-row>
  </ion-card>
  <ion-card>
    <ion-row>
      <ion-col>
        <ion-label col-1>สน2.</ion-label>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-1>
      </ion-col>
      <ion-col>
        <ion-label>หมู่บ้าน/ชุมชน ทั้งหมด : {{ item.allcmn }}</ion-label>
      </ion-col>
      <ion-col>
        <ion-label>หมู่บ้าน/ชุมชน ที่สำรวจเสร็จ : {{ item.cmnComplete }}</ion-label>
      </ion-col>
    </ion-row>
  </ion-card>

  <p>ท่านสามารถส่งข้อมูลได้ตามปกติ
    แต่สถานะข้อมูลที่บันทึกทางทีมงานกำลังเร่งทำงานในส่วนนี้อยู่และไม่มีผลกระทบกับการส่งข้อมูลใดๆทั้งสิ้น หวังว่าเมื่อ
    update โปรแกรมคราวหน้าส่วนนี้จะแสดงผลข้อมูลได้ถูกต้อง</p>


  <ion-row padding>
    <button ion-button full color="secondary" (click)="uploadToCloud()">ส่งงาน</button>
    <button ion-button full (click)="downloadwork()" [disabled]="checkDownload == false">ดาวน์โหลดงาน</button>

  </ion-row>

</ion-content>